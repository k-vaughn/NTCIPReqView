<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=unicode">

<style>
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:24.0pt;
	margin-left:0in;
	text-align:center;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:12.0pt;
	font-family:"Arial Bold",serif;
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;
	mso-bidi-font-family:"Times New Roman";}

table {
  border: 1px solid #333;
  border-collapse: collapse;
}
tr {
  page-break-inside:avoid;
}
th {
  padding: 1.5px;
  font-family:"Arial",sans-serif;
  font-size:10.0pt;
  font-weight: bold;
  text-align: center;
    } 
td {
  padding: 1.5px;
  font-family:"Arial",sans-serif;
  font-size:10.0pt;
  font-weight: normal;
  text-align: left;
  }
table.prlTable, table.rtmTable {
	width:100%;
	border: double;
}
th.unsh {
  width:13%;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.unh {
  width:7%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.frsh {
  width:9%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.frh {
  width:15%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.confh {
  width:14%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.sprh {
  width:13%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.addlh {
  width:27%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
}
th.objh {
  width:30%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
  border-right: 1.0pt solid #333;
}
th.nameh {
  width:46%;
  border-left: 1.0pt solid #333;
  border-bottom: 1.5pt solid #333;
}
td.sum-left {
  border-top: 1.5pt solid #333;
  border-right: 0.75pt solid #333;
}
td.sum-middle {
  border-left: 0.75pt solid #333;
  border-top: 1.5pt solid #333;
  border-right: 0.75pt solid #333;
}
td.sum-right {
  border-left: 0.75pt solid #333;
  border-top: 1.5pt solid #333;
}
td.left {
  border-top: 0.75pt solid #333;
  border-right: 0.75pt solid #333;
}
td.middle {
  border-left: 0.75pt solid #333;
  border-top: 0.75pt solid #333;
  border-right: 0.75pt solid #333;
}
td.right {
  border-left: 0.75pt solid #333;
  border-top: 0.75pt solid #333;
}
td.left-empty {
  border-right: 0.75pt solid #333;
}
td.empty {
  border-left: 0.75pt solid #333;
  border-right: 0.75pt solid #333;
}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
</style>

</head>

<body>
{{var "source" docId}}
{{var "a" docId}}
{{var "count" 2}}
{{var "opt_constraint" ""}}
{{var "cond_constraint" ""}}
{{var "code" ""}}
{{var "clause" ""}}
{{var "name" ""}}
{{var "cond_ref" ""}}

{{#*inline "row"}}
	{{set "cond_ref" ""}}
	{{#eachInlinkWith type="condRef"}}
  		{{set "cond_ref" (eval " (" "+" (eval (formatString text) "+" ")"))}}
	{{/eachInlinkWith}}
      <tr class="PRLRow">
			<td class="left">&nbsp;</td>
			<td class="middle">&nbsp;</td>
		{{#if (searchString docId "NTCIP")}}
			<td class="middle">&sect;{{{sectionNumber}}}{{get "cond_ref"}}</td>
		{{else}} 
			{{#if (searchString docId "RFC")}}
			<td class="middle">{{{replaceString docId "_" " "}}}</td>
			{{else}}
			<td class="middle">{{{docName}}}, &sect;{{{sectionNumber}}}{{get "cond_ref"}}</td>
			{{/if}}
		{{/if}}
			<td class="middle">{{heading}}</td>
			<td class="middle">{{get "cond_constraint"}}{{get "code"}}{{get "opt_constraint"}}</td>
			<td class="middle"> Yes
				{{#if (eval (get "code") "==" "O")}}
					/ No
				{{/if}}
				{{#if (eval (get "cond_constraint") "!=" "")}}
					/ NA
				{{/if}}
			</td>
			<td class="right">{{formatXHTML additional}}</td>
		</tr>
{{/inline}}

{{#*inline "directPRL"}}
  	{{#eachInlinkWith type="fulfil"}}
  		{{set "code" "M"}}
  		{{> row}}
	{{/eachInlinkWith}}
	{{#eachInlinkWith type="fulfil_opt"}}
  		{{set "code" "O"}}
  		{{> row}}
	{{/eachInlinkWith}}
{{/inline}}

{{#*inline "indirectPRL"}}
  	{{#eachInlinkWith type="opt_group"}}
  		{{set "opt_constraint" (eval "." "+" (get "count"))}}
  		{{set "opt_constraint" (eval (get "opt_constraint") "+" (formatString text))}}
  		{{> directPRL}}
  		{{> indirectPRL}}
  		{{incr "count"}}
	{{/eachInlinkWith}}
	{{#eachInlinkWith type="conditional"}}
		{{set "opt_constraint" ""}}
  		{{set "cond_constraint" (eval (formatString text) "+" ":")}}
  		{{> directPRL}}
  		{{> indirectPRL}}
	{{/eachInlinkWith}}
{{/inline}}

{{#*inline "directRTM"}}
	{{#ifHasInlinks "satisfies"}}{{#eachInlinkWith type="satisfies"}}
		{{#if (eval (formatString name) "==" "")}}
			<tr>
				<td class="left-empty">&nbsp;</td>
				<td class="empty">&nbsp;</td>
				<td class="middle">{{{replaceString docId "_" " "}}}</td>
				<td class="right">{{heading}}</td>
			</tr>
		{{else}}
			{{#if (eval docId "==" "NTCIP_1201")}}
			<tr>
				<td class="left-empty">&nbsp;</td>
				<td class="empty">&nbsp;</td>
				<td class="middle">{{{sectionNumber}}}</td>
				<td class="right">{{name}}</td>
			</tr>
			{{else}}
			<tr>
				<td class="left-empty">&nbsp;</td>
				<td class="empty">&nbsp;</td>
				<td class="middle">{{{replaceString docId "_" "-"}}}&sect;{{{sectionNumber}}}</td>
				<td class="right">{{name}}</td>
			</tr>
			{{/if}}
		{{/if}}
    {{/eachInlinkWith}}{{/ifHasInlinks}}
{{/inline}}


{{#*inline "support"}}
	{{#if (eval (get "code") "==" "X")}}
		No
	{{else}}
		Yes
		{{#if (or (or (eval (get "code") "==" "O") (searchString (get "code") "O.")) (searchString (get "code") ":O"))}}
			/ No
		{{/if}}
		{{#if (searchString (get "code") ":")}}
			/ NA
		{{/if}}
	{{/if}}
{{/inline}}


{{#*inline "ISOref"}}
       	<tr class="PRLRow" style="background:darkgray;">
			<td class="sum-left">ISO 26048-1, &sect;{{get "clause"}}</td>
			<td class="sum-middle" colspan="3">{{get "name"}}</td>
			<td class="sum-middle">{{get "code"}}</td>
			<td class="sum-middle">{{> support}}</td>
			<td class="sum-right">{{formatXHTML additional}}</td>
		</tr>
        <tr class="PRLRow">
			<td class="left">&nbsp;</td>
			<td class="middle">&nbsp;</td>
			<td class="middle" colspan="5">See ISO 26048-1 NTFT and FTRT tables (available at <a href="https://standards.iso.org/iso/ts/26048/-1/ed-1/en/">https://standards.iso.org/iso/ts/26048/-1/ed-1/en/</a>)</td>
		</tr>
{{/inline}}

{{#*inline "conf"}}
	{{#if conformance}}
		{{set "code" conformance}}
	{{else}}
		{{set "code" ""}}
	{{/if}}
{{/inline}}

    <table class="prlTable">
      <thead>
        <tr class="PRLRow" style="background:#FFFF99;">
          <th class="unsh">User Need<br />Section<br />Number</th>
		  <th class="unh">User Need</th>
		  <th class="frsh">FR Section<br />Number</th>
          <th class="frh">Functional<br />Requirement</th>
          <th class="confh">Conformance</th>
		  <th class="sprh">Support /<br />Project<br />Requirement</th>
          <th class="addlh">Additional Project Requirements</th>
        </tr>
      </thead>
      <tbody>
	  	{{set "clause" "6.1"}}{{set "name" "Authenticate users"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.2"}}{{set "name" "Control access to data"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.3"}}{{set "name" "Monitor failed access to the field device"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.4"}}{{set "name" "Manage the field device"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.5.1.1"}}{{set "name" "Monitor ambient air temperature"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.1.2"}}{{set "name" "Monitor ambient relative humidity"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.1.3"}}{{set "name" "Monitor ambient light"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.2.1"}}{{set "name" "Monitor field device doors"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.5.2.2"}}{{set "name" "Monitor field device enclosure temperature"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.5.2.3"}}{{set "name" "Monitor field device processor temperature"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.2.4"}}{{set "name" "Monitor field device enclosure humidity"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.3.1"}}{{set "name" "Monitor field device fans"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.3.2"}}{{set "name" "Monitor field device heaters"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.3.3"}}{{set "name" "Monitor field device dehumidifiers"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.3.4"}}{{set "name" "Monitor field device air conditioners"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.3.5"}}{{set "name" "Monitor field device thermostat"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.4.1"}}{{set "name" "Monitor field device power supplies"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.4.2"}}{{set "name" "Monitor field device mains power"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.4.3"}}{{set "name" "Monitor field device battery power"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.4.4"}}{{set "name" "Monitor field device generator power"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.4.5"}}{{set "name" "Monitor field device solar power"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.4.6"}}{{set "name" "Monitor field device wind power"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.5.1"}}{{set "name" "Monitor field device auxiliary bi-directional ports"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.5.2"}}{{set "name" "Monitor field device auxiliary inputs"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.5.5.3"}}{{set "name" "Monitor field device auxiliary outputs"}}{{set "code" "O"}}{{> ISOref}}
	  	{{set "clause" "6.6"}}{{set "name" "Receive notification of triggers firing"}}{{set "code" "O.1 (1..*)"}}{{> ISOref}}
	  	{{set "clause" "6.7"}}{{set "name" "Manage device specific notifications"}}{{set "code" "deviceNotifications:M"}}{{> ISOref}}
	  	{{set "clause" "6.8"}}{{set "name" "Log system events"}}{{set "code" "M"}}{{> ISOref}}
	  	{{set "clause" "6.9"}}{{set "name" "Log user-defined data snapshots"}}{{set "code" "O.1 (1..*)"}}{{> ISOref}}
	  	{{set "clause" "6.12"}}{{set "name" "Configure a complex device"}}{{set "code" "X"}}{{> ISOref}}
        {{#eachDocumentObject}}
 				{{set "cond_ref" ""}}
				{{#eachInlinkWith type="condRef"}}
		  		{{set "cond_ref" (eval " (" "+" (eval (formatString text) "+" ")"))}}
				{{/eachInlinkWith}}

		  {{#if (eval type "==" "unp")}}
        	<tr class="PRLRow" style="background:darkgray;">
    				<td class="sum-left">{{{sectionNumber}}}{{get "cond_ref"}}</td>
		    		<td class="sum-middle" colspan="3">{{{heading}}}</td>
				    <td class="sum-middle">{{conformance}}</td>
    				<td class="sum-middle">{{> conf}}{{> support}}</td>
		    		<td class="sum-right">{{formatXHTML additional}}</td>
			    </tr>
		  {{/if}}
		  {{#if (eval type "==" "unc")}}
        	<tr class="PRLRow" style="background:lightgray;">
						<td class="sum-left">
				{{#withParent}}{{#if (eval type "==" "unp")}}{{{sectionNumber}}}{{else}}{{#withParent}}{{{sectionNumber}}}{{/withParent}}.{{name}}{{/if}}{{/withParent}}.{{name}}
				{{get "cond_ref"}}
						</td>
						<td class="sum-middle" colspan="3">{{{text}}}</td>
						<td class="sum-middle">{{conformance}}</td>
						<td class="sum-middle">{{> conf}}{{> support}}</td>
						<td class="sum-right">{{formatXHTML additional}}</td>
					</tr>
		  {{/if}}
		  {{#if (eval type "==" "un")}}
        	<tr class="PRLRow" style="background:lightgray;">
						<td class="sum-left">{{{sectionNumber}}}{{get "cond_ref"}}</td>
						<td class="sum-middle" colspan="3">{{{heading}}}</td>
						<td class="sum-middle">{{conformance}}</td>
						<td class="sum-middle">{{> conf}}{{> support}}</td>
						<td class="sum-right">{{formatXHTML additional}}</td>
					</tr>
			{{set "opt_constraint" ""}}
			{{set "cond_constraint" ""}}
			{{> directPRL}}
			{{> indirectPRL}}
          {{/if}}
		{{/eachDocumentObject}}
      </tbody>
    </table>
	<p>&nbsp;</p>
	<table class="rtmTable">
      <thead>
        <tr  style="background:#FFFF99;">
		  <th class="frsh">FR ID</th>
          <th class="frh">Functional<br />Requirement</th>
          <th class="objh">Object ID</th>
          <th class="nameh">Object Name / Dialog</th>
        </tr>
      </thead>
      <tbody>
        {{#eachDocumentObject}}{{#ifHasInlinks "implement"}}
        	<tr style="background:silver;">
				
			{{#if (eval docId "==" "NTCIP_1201")}}
				<td class="sum-left">{{{sectionNumber}}}</td>
			{{else}}
				<td class="sum-left">{{{replaceString docId "_" "-"}}}&sect;{{{sectionNumber}}}</td>
			{{/if}}
				<td class="sum-middle" colspan="2">{{{heading}}}</td>
				<td class="sum-right">{{#eachInlinkWith type="implement"}}{{{replaceString docId "_" "-"}}}&sect;{{{sectionNumber}}}: {{{heading}}}{{/eachInlinkWith}}</td>
				</td>
			</tr>
			{{set "opt_constraint" ""}}
			{{set "cond_constraint" ""}}
			{{> directRTM}}
        {{/ifHasInlinks}}{{/eachDocumentObject}}
      </tbody>
    </table>

</body>
